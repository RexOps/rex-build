# basic informations
name:
   centos: rex
   debian: rex
   ubuntu: rex
realname: Rex
version: 0.43.7
release: 1
epoch: 1
summary: Rex is a tool to ease the execution of commands on multiple remote servers.
group:
   centos: Utilities/System
   debian: admin
   ubuntu: admin
license: Apache 2
homepage: http://rexify.org/
source: http://cpan.metacpan.org/authors/id/J/JF/JFRIED/Rex-0.43.7.tar.gz
maintainer: jan gehring <jan.gehring@gmail.com>
priority: optional
no_auto_scan: true
description: |
   Rex is a tool to ease the execution of commands on multiple remote
   servers. You can define small tasks, chain tasks to batches, link
   them with servers or server groups, and execute them easily in
   your terminal.

# requirements
requires:
   debian:
      wheezy:
         build:
            - build-essential
            - debhelper
            - perl
            - libperl-dev
            - perl-modules
            - make
            - libnet-ssh2-perl
            - libexpect-perl
            - libdbi-perl
            - libwww-perl
            - liblwp-protocol-https-perl
            - libxml-simple-perl
            - libdigest-hmac-perl
            - libyaml-perl
            - libstring-escape-perl
         runtime:
            - perl
            - perl-modules
            - libnet-ssh2-perl
            - libexpect-perl
            - libdbi-perl
            - libwww-perl
            - liblwp-protocol-https-perl
            - libxml-simple-perl
            - libdigest-hmac-perl
            - libyaml-perl
            - libstring-escape-perl

   centos:
      5:
         build:
            - make
            - perl
            - perl-Net-SSH2
            - perl-Expect
            - perl-DBI
            - perl-libwww-perl
            - perl-XML-Simple
            - perl-Digest-HMAC
            - perl-YAML
            - perl-String-Escape
         runtime:
            - perl
            - perl-Net-SSH2
            - perl-Expect
            - perl-DBI
            - perl-libwww-perl
            - perl-XML-Simple
            - perl-Digest-HMAC
            - perl-YAML
            - perl-String-Escape
 
      6:
         build:
            - make
            - perl
            - perl-devel
            - perl-Net-SSH2
            - perl-Expect
            - perl-DBI
            - perl-libwww-perl
            - perl-XML-Simple
            - perl-Digest-HMAC
            - perl-YAML
            - perl-String-Escape
 
         runtime:
            - perl
            - perl-Net-SSH2
            - perl-Expect
            - perl-DBI
            - perl-libwww-perl
            - perl-XML-Simple
            - perl-Digest-HMAC
            - perl-YAML
            - perl-String-Escape
 

# build instructions
configure: |
   tar xzf <%= $sourceroot %>/<%= $realname %>-<%= $version %>.tar.gz
   cd <%= $realname %>-<%= $version %>
     
   perl Makefile.PL INSTALLDIRS="vendor" PREFIX=<%= $buildroot %>/usr

make: |
   cd <%= $realname %>-<%= $version %>
   make

install: |
   rm -rf <%= $buildroot %>
      
   cd <%= $realname %>-<%= $version %>
   make pure_install
   find <%= $buildroot %> -name .packlist -exec /bin/rm '{}' ';'

clean: |
   rm -rf <%= $buildroot %>

files:
   package:
      - /usr

